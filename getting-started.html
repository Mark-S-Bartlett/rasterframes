<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106630615-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments)};
gtag('js', new Date());

gtag('config', 'UA-106630615-1');
</script>

<title>Getting Started · RasterFrames</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='RasterFrames brings the power of Spark DataFrames to geospatial raster data.'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="css/page.css"/>

<link rel="icon" href="images/RasterFrames_16x16.ico" sizes="16x16"/>
<link rel="icon" href="images/RasterFrames_32x32.ico" sizes="32x32"/>

<style>
.md-left { float: left; }
.md-right { float: right; }
.md-clear { clear: both; }
table { font-size: 80%; }
code { font-size: 0.75em !important; }
</style>
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>RasterFrames
</a>
<div class="version-number">
0.8.0
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="description.html" class="page">Overview</a></li>
  <li><a href="getting-started.html" class="active page">Getting Started</a></li>
  <li><a href="concepts.html" class="page">Concepts</a></li>
  <li><a href="raster-io.html" class="page">Raster Data I/O</a>
  <ul>
    <li><a href="raster-catalogs.html" class="page">Raster Catalogs</a></li>
    <li><a href="raster-read.html" class="page">Reading Raster Data</a></li>
    <li><a href="raster-write.html" class="page">Writing Raster Data</a></li>
  </ul></li>
  <li><a href="vector-data.html" class="page">Vector Data</a></li>
  <li><a href="raster-processing.html" class="page">Raster Processing</a>
  <ul>
    <li><a href="local-algebra.html" class="page">Local Map Algebra</a></li>
    <li><a href="nodata-handling.html" class="page">&ldquo;NoData&rdquo; Handling</a></li>
    <li><a href="aggregation.html" class="page">Aggregation</a></li>
    <li><a href="time-series.html" class="page">Time Series</a></li>
    <li><a href="machine-learning.html" class="page">Machine Learning</a></li>
  </ul></li>
  <li><a href="numpy-pandas.html" class="page">NumPy and Pandas</a></li>
  <li><a href="languages.html" class="page">API Languages</a></li>
  <li><a href="reference.html" class="page">Function Reference</a></li>
  <li><a href="release-notes.html" class="page">Release&nbsp;Notes</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<img style="max-height: 60px;" src="images/RasterFramesLogo.png" />
<!-- <div class="title"><a href="index.html">RasterFrames</a></div>
 -->
<a href="http://www.astraea.earth" class="logo show-for-medium">
<img style="max-height: 40px;" src="images/astraea.png"/>
</a>
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>RasterFrames
</a>
<div class="version-number">
0.8.0
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="description.html" class="page">Overview</a></li>
  <li><a href="getting-started.html" class="active page">Getting Started</a></li>
  <li><a href="concepts.html" class="page">Concepts</a></li>
  <li><a href="raster-io.html" class="page">Raster Data I/O</a>
  <ul>
    <li><a href="raster-catalogs.html" class="page">Raster Catalogs</a></li>
    <li><a href="raster-read.html" class="page">Reading Raster Data</a></li>
    <li><a href="raster-write.html" class="page">Writing Raster Data</a></li>
  </ul></li>
  <li><a href="vector-data.html" class="page">Vector Data</a></li>
  <li><a href="raster-processing.html" class="page">Raster Processing</a>
  <ul>
    <li><a href="local-algebra.html" class="page">Local Map Algebra</a></li>
    <li><a href="nodata-handling.html" class="page">&ldquo;NoData&rdquo; Handling</a></li>
    <li><a href="aggregation.html" class="page">Aggregation</a></li>
    <li><a href="time-series.html" class="page">Time Series</a></li>
    <li><a href="machine-learning.html" class="page">Machine Learning</a></li>
  </ul></li>
  <li><a href="numpy-pandas.html" class="page">NumPy and Pandas</a></li>
  <li><a href="languages.html" class="page">API Languages</a></li>
  <li><a href="reference.html" class="page">Function Reference</a></li>
  <li><a href="release-notes.html" class="page">Release&nbsp;Notes</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="index.html">RasterFrames</a></li>
  <li>Getting Started</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#getting-started" name="getting-started" class="anchor"><span class="anchor-link"></span></a>Getting Started</h1><div class="callout note "><div class="callout-title">Note</div>
<p>If you are new to Earth-observing imagery, you might consider looking at the <a href="concepts.md">Concepts</a> section first.</p></div>
<p>There are <a href="getting-started.html#other-options">several ways</a> to use RasterFrames, and <a href="languages.html">several languages</a> with which you can use it. </p>
<p>The simplest way to get started with RasterFrames is via the the Python shell. To get started you will need:</p>
<ol>
  <li><a href="https://www.python.org/">Python</a> installed. Version 3.6 or greater is recommended.</li>
  <li><a href="https://pip.pypa.io/en/stable/installing/"><code>pip</code></a> installed. If you are using Python 3, <code>pip</code> may already be installed.</li>
  <li>Java <a href="https://openjdk.java.net/install/index.html">JDK 8</a> installed on your system and <code>java</code> on your system <code>PATH</code> or <code>JAVA_HOME</code> pointing to a Java installation.</li>
</ol>
<h2><a href="#pip-install-pyrasterframes" name="pip-install-pyrasterframes" class="anchor"><span class="anchor-link"></span></a>pip install pyrasterframes</h2>
<pre class="prettyprint"><code class="language-bash">$ python3 -m pip install pyrasterframes
</code></pre>
<p>Then in a python interpreter of your choice, you can get a <a href="https://spark.apache.org/docs/latest/api/python/pyspark.sql.html#pyspark.sql.SparkSession"><code>pyspark</code> <code>SparkSession</code></a> using the <a href="https://spark.apache.org/docs/latest/submitting-applications.html#master-urls"><code>local[*]</code> master</a>.</p>
<pre class="prettyprint"><code class="language-python">import pyrasterframes
spark = pyrasterframes.get_spark_session()
</code></pre>
<p>Then, you can read a raster and work with it in a Spark DataFrame.</p>
<pre class="prettyprint"><code class="language-python">from pyrasterframes.rasterfunctions import *
from pyspark.sql.functions import lit

# Read a MODIS surface reflectance granule
df = spark.read.raster(&#39;https://modis-pds.s3.amazonaws.com/MCD43A4.006/11/08/2019059/MCD43A4.A2019059.h11v08.006.2019072203257_B02.TIF&#39;)

# Add 3 element-wise, show some rows of the DataFrame
df.withColumn(&#39;added&#39;, rf_local_add(df.proj_raster, lit(3))) \
  .select(rf_crs(&#39;added&#39;), rf_extent(&#39;added&#39;), rf_tile(&#39;added&#39;)) \
  .show(3)
</code></pre>
<table>
  <thead>
    <tr>
      <th>rf_crs(added) </th>
      <th>rf_extent(added) </th>
      <th>rf_tile(added) </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[+proj=sinu +lon_0=0 +x_0=0 +y_0=0 +a=63 </td>
      <td>[-7783653.637667, 993342.4642358534, -76 </td>
      <td>[int16ud32767, (256,255), [3408,3471,311 </td>
    </tr>
    <tr>
      <td>[+proj=sinu +lon_0=0 +x_0=0 +y_0=0 +a=63 </td>
      <td>[-7665045.582235853, 993342.4642358534, </td>
      <td>[int16ud32767, (256,255), [2337,2346,258 </td>
    </tr>
    <tr>
      <td>[+proj=sinu +lon_0=0 +x_0=0 +y_0=0 +a=63 </td>
      <td>[-7546437.526804707, 993342.4642358534, </td>
      <td>[int16ud32767, (256,255), [2728,2784,278 </td>
    </tr>
  </tbody>
</table>
<p>This example is extended in the <a href="https://nbviewer.jupyter.org/github/locationtech/rasterframes/blob/develop/rf-notebook/src/main/notebooks/Getting%20Started.ipynb">getting started Jupyter notebook</a>.</p>
<h2><a href="#next-steps" name="next-steps" class="anchor"><span class="anchor-link"></span></a>Next Steps</h2>
<p>To understand more about how and why RasterFrames represents Earth observation in DataFrames, read about the <a href="concepts.html">core concepts</a> and the project <a href="description.html">description</a>. For more hands-on examples, see the chapters about <a href="raster-io.html">reading</a> and <a href="raster-processing.html">processing</a> with RasterFrames.</p>
<h2><a href="#other-options" name="other-options" class="anchor"><span class="anchor-link"></span></a>Other Options</h2>
<p>You can also use RasterFrames in the following environments:</p>
<ol>
  <li>Jupyter Notebook</li>
  <li><code>pyspark</code> shell</li>
</ol>
<h3><a href="#using-jupyter-notebook" name="using-jupyter-notebook" class="anchor"><span class="anchor-link"></span></a>Using Jupyter Notebook</h3>
<p>RasterFrames provides a Docker image for a Jupyter notebook server whose default kernel is already set up for running RasterFrames. To use it:</p>
<ol>
  <li>Install <a href="https://docs.docker.com/install/">Docker</a></li>
  <li>Pull the image: <code>docker pull s22s/rasterframes-notebook</code></li>
  <li>Run a container with the image, for example:  <code>docker run -p 8808:8888 -p 44040:4040 -v /path/to/notebooks:/home/jovyan/work rasterframes-notebook:latest</code></li>
  <li>In a browser, open <code>localhost:8808</code> in the example above.</li>
</ol>
<p>See the <a href="https://github.com/locationtech/rasterframes/blob/develop/rf-notebook/README.md">RasterFrames Notebook README</a> for instructions on building the Docker image for this Jupyter notebook server.</p>
<h3><a href="#using-pyspark-shell" name="using-pyspark-shell" class="anchor"><span class="anchor-link"></span></a>Using <code>pyspark</code> shell</h3>
<p>You can use RasterFrames in a <code>pyspark</code> shell. To set up the <code>pyspark</code> environment, prepare your call with the appropriate <code>--master</code> and other <code>--conf</code> arguments for your cluster manager and environment. For RasterFrames support you need to pass arguments pointing to the various Java dependencies. You will also need the Python source zip, even if you have pip installed the package. You can download the source zip here: <a href="https://repo1.maven.org/maven2/org/locationtech/rasterframes/pyrasterframes_2.11/${VERSION}/pyrasterframes_2.11-${VERSION}-python.zip">https://repo1.maven.org/maven2/org/locationtech/rasterframes/pyrasterframes_2.11/${VERSION}/pyrasterframes_2.11-${VERSION}-python.zip</a>.</p>
<p>The <code>pyspark</code> shell command will look something like this.</p>
<pre class="prettyprint"><code class="language-bash">   pyspark \
    --master local[*] \
    --py-files pyrasterframes_2.11-${VERSION}-python.zip \
    --packages org.locationtech.rasterframes:rasterframes_2.11:${VERSION},org.locationtech.rasterframes:pyrasterframes_2.11:${VERSION},org.locationtech.rasterframes:rasterframes-datasource_2.11:${VERSION} \
    --conf spark.serializer=org.apache.spark.serializer.KryoSerializer \ # these configs improve serialization performance
    --conf spark.kryo.registrator=org.locationtech.rasterframes.util.RFKryoRegistrator \
    --conf spark.kryoserializer.buffer.max=500m
</code></pre>
<p>Then in the <code>pyspark</code> shell, import the module and call <code>withRasterFrames</code> on the SparkSession.</p>
<pre class="prettyprint"><code class="language-python">Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  &#39;_/
   /__ / .__/\_,_/_/ /_/\_\   version 2.3.2
      /_/

Using Python version 3.7.3 (default, Mar 27 2019 15:43:19)
SparkSession available as &#39;spark&#39;.
&gt;&gt;&gt; import pyrasterframes
&gt;&gt;&gt; spark = spark.withRasterFrames()
&gt;&gt;&gt; df = spark.read.raster(&#39;https://landsat-pds.s3.amazonaws.com/c1/L8/158/072/LC08_L1TP_158072_20180515_20180604_01_T1/LC08_L1TP_158072_20180515_20180604_01_T1_B5.TIF&#39;)
</code></pre>
<p>Now you have the configured SparkSession with RasterFrames enabled.</p>
<h2><a href="#installing-gdal" name="installing-gdal" class="anchor"><span class="anchor-link"></span></a>Installing GDAL</h2>
<p>GDAL provides a wide variety of drivers to read data from many different raster formats. If GDAL is installed in the environment, RasterFrames will be able to <a href="raster-read.html">read</a> those formats. If you are using the <a href="getting-started.html#jupyter-notebook">Jupyter Notebook image</a>, GDAL is already installed for you. Otherwise follow the instructions below. Version 2.4.1 or greater is required.</p>
<h3><a href="#installing-on-macos" name="installing-on-macos" class="anchor"><span class="anchor-link"></span></a>Installing on MacOS</h3>
<p>Using <a href="https://brew.sh/">homebrew</a>:</p>
<pre class="prettyprint"><code class="language-bash">brew install gdal
</code></pre>
<h3><a href="#installing-on-linux" name="installing-on-linux" class="anchor"><span class="anchor-link"></span></a>Installing on Linux</h3>
<p>Using <a href="https://wiki.debian.org/Apt"><code>apt-get</code></a>:</p>
<pre class="prettyprint"><code class="language-bash">sudo apt-get update
sudo apt-get install gdal-bin
</code></pre>
<h3><a href="#testing-for-gdal" name="testing-for-gdal" class="anchor"><span class="anchor-link"></span></a>Testing For GDAL</h3>
<pre class="prettyprint"><code class="language-bash">gdalinfo --formats
</code></pre>
<p>To support GeoTIFF and JPEG2000 formats, you should look for the following drivers from the output above:</p>
<ul>
  <li><code>GTiff -raster- (rw+vs): GeoTIFF</code></li>
  <li><code>JPEG2000 -raster,vector- (rwv): JPEG-2000 part 1 (ISO/IEC 15444-1), based on Jasper library</code></li>
</ul>
<p>Do the following to see if RasterFrames was able to find GDAL:</p>
<pre class="prettyprint"><code class="language-python">from pyrasterframes.utils import gdal_version
print(gdal_version())
</code></pre>
<p>This will print out something like &ldquo;GDAL x.y.z, released 20yy/mm/dd&rdquo;. If it reports &ldquo;not available&rdquo;, then GDAL is not installed in a place where the RasterFrames runtime was able to find it. Please <a href="https://github.com/locationtech/rasterframes/issues">file an issue</a> to get help resolving this problem.</p>
<div class="nav-next">
<p><strong>Next:</strong> <a href="concepts.html">Concepts</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="getting-started.html#getting-started" class="header">Getting Started</a>
  <ul>
    <li><a href="getting-started.html#pip-install-pyrasterframes" class="header">pip install pyrasterframes</a></li>
    <li><a href="getting-started.html#next-steps" class="header">Next Steps</a></li>
    <li><a href="getting-started.html#other-options" class="header">Other Options</a></li>
    <li><a href="getting-started.html#installing-gdal" class="header">Installing GDAL</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">
<div class="small-12 text-center large-9 column">
<div class="copyright">
<span class="text">Copyright &copy; 2019
<a href="http://www.astraea.earth/">Astraea, Inc.</a></span>
</div>
</div>
</div>
</div>
</div>
</section>
</footer>
</div>
</div>
</div>
</body>

<script type="text/javascript" src="lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/magellan.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

</html>
